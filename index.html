<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solar Web</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-box-and-violin-plot@3.9.0/dist/chartjs-chart-box-and-violin-plot.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<!-- Pie de p√°gina con cr√©ditos -->
<footer class="team-footer">
  <p>Desarrollado por:</p>
  <ul>
    <li>Gustavo P√©rez Gardu√±o</li>
    <li>Ivan Montoya Barrera</li>
    <li>Luis Fernando Avila Gazca</li>
    <li>Carlos Alberto Zurian Sanchez</li>
  </ul>
</footer>
<body>
  <header id="heroSection" class="hero-section">
    <div class="hero-content">
      <h1>Solar Web</h1>
      <h2>¬°Ahora es m√°s f√°cil!</h2>
      <h2>Descubre c√≥mo la energ√≠a solar puede transformar tu hogar y tus finanzas.</h2>
      <div class="hero-buttons">
        <button onclick="showSection('solarSection')">Calculadora de Energ√≠a Solar</button>
        <button onclick="showSection('panelSection')">¬øCu√°ntos paneles necesitas?</button>
        <button onclick="showSection('dataSection')">Ingresar Datos</button>
        <button onclick="showSection('analysisSection')">An√°lisis Estad√≠stico</button>
        <button onclick="showSection('helpSection')">Ayuda</button>
      </div>
    </div>
  </header>

  <div class="wrapper">
    <!-- Secci√≥n Calculadora de Energ√≠a Solar -->
    <section class="container" id="solarSection" style="display: none;">
      <h2>Calculadora de Energ√≠a Solar</h2>
      <h3>Calcula la energ√≠a generada por tus paneles y conoce cu√°nto podr√≠as ahorrar en tu recibo de luz</h3>
      <p>Selecciona una opci√≥n para obtener la radiaci√≥n solar.</p>
      <label for="sourceType">Tipo de entrada:</label>
      <select id="sourceType" onchange="toggleInputs()">
        <option value="city" selected>Seleccionar Ciudad</option>
        <option value="coords">Ingresar Coordenadas</option>
      </select>
      <div class="fade-block city-block active" id="cityBlock">
        <label for="citySelect">Ciudad:</label>
        <select id="citySelect"></select>
      </div>
      <div class="fade-block coords-block" id="coordsBlock">
        <label for="latInput">Latitud:</label>
        <input type="number" id="latInput" placeholder="Ej: 19.70" step="0.01">
        <label for="lonInput">Longitud:</label>
        <input type="number" id="lonInput" placeholder="Ej: -101.19" step="0.01">
      </div>
      <label for="panelArea">√Årea del panel (m¬≤):</label>
      <input type="number" id="panelArea" placeholder="Ej: 1.6" min="0.1">
      <label for="efficiency">Eficiencia del panel (%):</label>
      <input type="number" id="efficiency" placeholder="Ej: 18" min="1" max="100">
      <button onclick="calculateEnergy()">Calcular Energ√≠a</button>
      <p id="result"></p>
      <div id="map"></div>
      <hr class="separator2">
      <h3>Calcula tu Consumo y Ahorro</h3>
      <p>En M√©xico los recibos de luz se emiten cada dos meses. Ingresa tu consumo bimestral (kWh), el monto del recibo (MXN) y la tarifa el√©ctrica ($/kWh).</p>
      <label for="bimonthlyConsumption">Consumo bimestral (kWh):</label>
      <input type="number" id="bimonthlyConsumption" placeholder="Ej: 600" min="1">
      <label for="bimonthlyCost">Monto del recibo bimestral (MXN):</label>
      <input type="number" id="bimonthlyCost" placeholder="Ej: 1000" min="1">
      <label for="electricityTariff">Tarifa el√©ctrica ($/kWh):</label>
      <input type="number" id="electricityTariff" placeholder="Ej: 2.5" step="0.01" min="0">
      <button onclick="calculateSavings()">Calcular Ahorro</button>
      <p id="savingsResult"></p>
      <div class="chart-container">
        <canvas id="savingsChart"></canvas>
      </div>
      <button class="back-home-btn solar" onclick="returnHome()"><span>‚òÄÔ∏è Volver al Inicio</span></button>
    </section>

    <hr class="separator">

    <!-- Secci√≥n: ¬øCu√°ntos paneles necesitas? -->
    <section class="container" id="panelSection" style="display: none;">
      <h2>¬øCu√°ntos paneles necesitas?</h2>
      <p>Selecciona el tipo de panel y luego el modelo para ver una breve descripci√≥n. Ingresa el √°rea total que deseas cubrir para calcular la cantidad de paneles requeridos.</p>
      <label for="panelType">Tipo de panel:</label>
      <select id="panelType" onchange="populatePanelModels()">
        <option value="residential" selected>Residencial</option>
        <option value="industrial">Industrial</option>
      </select>
      <label for="panelModel">Modelo de panel:</label>
      <select id="panelModel" onchange="updatePanelDescription()"></select>
      <p id="panelDescription" class="panel-description"></p>
      <label for="requiredArea">√Årea total requerida (m¬≤):</label>
      <input type="number" id="requiredArea" placeholder="Ej: 50" min="1" step="0.1">
      <button onclick="calculatePanels()">Calcular Paneles Necesarios</button>
      <p id="panelResult"></p>
      <button class="back-home-btn panel" onclick="returnHome()"><span>üîô Volver al Inicio</span></button>
    </section>

    <hr class="separator">

    <!-- Secci√≥n: Ingresar Datos (Gr√°ficas) -->
    <section class="container" id="dataSection" style="display: none;">
      <h2>Ingresar Datos</h2>
      <p>Elige el tipo de gr√°fica y escribe tus datos para visualizarlos.</p>
      <label for="dataGraphType">Tipo de gr√°fica:</label>
      <select id="dataGraphType" onchange="handleDataGraphTypeChange()">
        <option value="histogram" selected>Histograma</option>
        <option value="boxplot">Boxplot</option>
        <option value="scatter">Gr√°fico XY</option>
      </select>
      <div id="numericDataContainer">
        <label for="customDataInput">Datos (n√∫meros separados por comas):</label>
        <textarea id="customDataInput" placeholder="Ej: 5, 10, 15, 20, 25"></textarea>
      </div>
      <div id="xyDataContainer" style="display: none;">
        <label for="xyDataInput">Datos XY (formato: x,y; x,y; ...):</label>
        <textarea id="xyDataInput" placeholder="Ej: 10,20; 30,40; 50,60"></textarea>
      </div>
      <button onclick="processData()">Procesar Datos</button>
      <div id="customDataResult"></div>
      <div class="chart-container">
        <canvas id="dataChart"></canvas>
      </div>
      <button class="back-home-btn" onclick="returnHome()"><span>üîô Volver al Inicio</span></button>
    </section>

    <hr class="separator">

    <!-- Secci√≥n: An√°lisis Estad√≠stico -->
    <section class="container" id="analysisSection" style="display: none;">
      <h2>An√°lisis Estad√≠stico</h2>
      <p>Ingresa datos num√©ricos separados por comas para calcular las medidas estad√≠sticas extendidas.</p>
      <textarea id="analysisInput" placeholder="Ej: 1,2,3,4,5,5,3"></textarea>
      <button onclick="calculateStatsOnly()">Calcular Estad√≠sticas Extendidas</button>
      <div id="analysisResult"></div>
      <button class="back-home-btn" onclick="returnHome()"><span>üîô Volver al Inicio</span></button>
    </section>

    <hr class="separator">

    <!-- Secci√≥n de Ayuda Actualizada -->
    <section class="container" id="helpSection" style="display: none;">
      <h2>Ayuda - Conceptos B√°sicos</h2>
      <p><strong>Histograma:</strong> Visualiza la frecuencia de los datos en intervalos.</p>
      <p><strong>Boxplot (Diagrama de Caja):</strong> Muestra la mediana, cuartiles y posibles valores at√≠picos.</p>
      <p><strong>Gr√°fico XY (Scatter):</strong> Permite visualizar la relaci√≥n entre dos variables.</p>
      <p><strong>An√°lisis Estad√≠stico:</strong> Calcula medidas extendidas como media, mediana, moda, desviaci√≥n est√°ndar, sesgo, curtosis y cuartiles.</p>

      <h3>F√≥rmulas Estad√≠sticas</h3>
      <p><strong>Media (xÃÑ):</strong><br>
      Promedio de todos los valores<br>
      <em>F√≥rmula:</em> xÃÑ = (Œ£x·µ¢) √∑ n</p>

      <p><strong>Mediana:</strong><br>
      Valor central en datos ordenados. Si es par: promedio de los dos centrales.</p>

      <p><strong>Moda:</strong><br>
      Valor que m√°s se repite. Puede haber m√∫ltiples modas o ninguna.</p>

      <p><strong>Desviaci√≥n Est√°ndar (œÉ):</strong><br>
      Dispersi√≥n de los datos respecto a la media<br>
      <em>F√≥rmula:</em> œÉ = ‚àö[Œ£(x·µ¢ - xÃÑ)¬≤ √∑ n]</p>

      <p><strong>Varianza:</strong><br>
      Desviaci√≥n est√°ndar al cuadrado<br>
      <em>F√≥rmula:</em> Var = œÉ¬≤</p>

      <p><strong>Sesgo:</strong><br>
      Asimetr√≠a de la distribuci√≥n<br>
      <em>F√≥rmula:</em> Œ≥‚ÇÅ = [n/((n-1)(n-2))] √ó Œ£[(x·µ¢ - xÃÑ)/œÉ]¬≥</p>

      <p><strong>Curtosis:</strong><br>
      Medida de lo "puntiaguda" de la distribuci√≥n<br>
      <em>F√≥rmula:</em> Œ≤‚ÇÇ = [n(n+1)/((n-1)(n-2)(n-3))] √ó Œ£[(x·µ¢ - xÃÑ)/œÉ]‚Å¥ - [3(n-1)¬≤/((n-2)(n-3))]</p>

      <h3>C√°lculos de Energ√≠a</h3>
      <p><strong>Energ√≠a Diaria:</strong><br>
      <em>F√≥rmula:</em> Radiaci√≥n √ó √Årea √ó Eficiencia</p>

      <p><strong>Ahorro Bimestral:</strong><br>
      <em>F√≥rmula:</em> (Consumo - Generaci√≥n) √ó Tarifa</p>

      <button onclick="hideHelp()">Cerrar Ayuda</button>
    </section>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>